{"version":3,"sources":["../../../src/elements/content-uploader/progressCellRenderer.js"],"names":["React","FormattedMessage","Browser","messages","ItemProgress","ERROR_CODE_UPLOAD_FILE_SIZE_LIMIT_EXCEEDED","ERROR_CODE_ITEM_NAME_IN_USE","ERROR_CODE_ITEM_NAME_INVALID","ERROR_CODE_UPLOAD_PENDING_APP_FOLDER_SIZE_LIMIT","ERROR_CODE_UPLOAD_STORAGE_LIMIT_EXCEEDED","ERROR_CODE_UPLOAD_CHILD_FOLDER_FAILED","ERROR_CODE_UPLOAD_BAD_DIGEST","ERROR_CODE_UPLOAD_FAILED_PACKAGE","STATUS_IN_PROGRESS","STATUS_STAGED","STATUS_ERROR","getErrorMessage","errorCode","itemName","shouldShowUpgradeCTAMessage","uploadsOneOrMoreChildFoldersFailedToUploadMessage","uploadsFileSizeLimitExceededErrorMessageForUpgradeCta","uploadsFileSizeLimitExceededErrorMessage","uploadsItemNameInUseErrorMessage","uploadsProvidedFolderNameInvalidMessage","name","uploadsStorageLimitErrorMessage","uploadsPendingFolderSizeLimitErrorMessage","uploadsPackageUploadErrorMessage","uploadsDefaultErrorMessage","rowData","status","error","isFolder","file","code","isSafari","indexOf"],"mappings":";;AAAA;;;;AAKA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,QAAiC,YAAjC;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,SACIC,0CADJ,EAEIC,2BAFJ,EAGIC,4BAHJ,EAIIC,+CAJJ,EAKIC,wCALJ,EAMIC,qCANJ,EAOIC,4BAPJ,EAQIC,gCARJ,EASIC,kBATJ,EAUIC,aAVJ,EAWIC,YAXJ,QAYO,iBAZP;;AAmBA;;;;;;;AAOA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,SAAD,EAAqBC,QAArB,EAAwCC,2BAAxC,EAAkF;AACtG,UAAQF,SAAR;AACI,SAAKP,qCAAL;AACI,aAAO,oBAAC,gBAAD,EAAsBP,QAAQ,CAACiB,iDAA/B,CAAP;;AACJ,SAAKf,0CAAL;AACI,UAAIc,2BAAJ,EAAiC;AAC7B,eAAO,oBAAC,gBAAD,EAAsBhB,QAAQ,CAACkB,qDAA/B,CAAP;AACH;;AACD,aAAO,oBAAC,gBAAD,EAAsBlB,QAAQ,CAACmB,wCAA/B,CAAP;;AACJ,SAAKhB,2BAAL;AACI,aAAO,oBAAC,gBAAD,EAAsBH,QAAQ,CAACoB,gCAA/B,CAAP;;AACJ,SAAKhB,4BAAL;AACI,aACI,oBAAC,gBAAD,eAAsBJ,QAAQ,CAACqB,uCAA/B;AAAwE,QAAA,MAAM,EAAE;AAAEC,UAAAA,IAAI,EAAEP;AAAR;AAAhF,SADJ;;AAGJ,SAAKT,wCAAL;AACI,aAAO,oBAAC,gBAAD,EAAsBN,QAAQ,CAACuB,+BAA/B,CAAP;;AACJ,SAAKlB,+CAAL;AACI,aAAO,oBAAC,gBAAD,EAAsBL,QAAQ,CAACwB,yCAA/B,CAAP;;AACJ,SAAKf,gCAAL;AACI,aAAO,oBAAC,gBAAD,EAAsBT,QAAQ,CAACyB,gCAA/B,CAAP;;AACJ;AACI,aAAO,oBAAC,gBAAD,EAAsBzB,QAAQ,CAAC0B,0BAA/B,CAAP;AArBR;AAuBH,CAxBD;;AA0BA,gBAAe,UAACV,2BAAD;AAAA,SAA2C,gBAAwB;AAAA,QAArBW,OAAqB,QAArBA,OAAqB;AAAA,QACtEC,MADsE,GACzBD,OADyB,CACtEC,MADsE;AAAA,yBACzBD,OADyB,CAC9DE,KAD8D;AAAA,QAC9DA,KAD8D,+BACtD,EADsD;AAAA,QAClDP,IADkD,GACzBK,OADyB,CAClDL,IADkD;AAAA,QAC5CQ,QAD4C,GACzBH,OADyB,CAC5CG,QAD4C;AAAA,QAClCC,IADkC,GACzBJ,OADyB,CAClCI,IADkC;AAAA,QAEtEC,IAFsE,GAE7DH,KAF6D,CAEtEG,IAFsE;;AAI9E,QAAIF,QAAQ,IAAIF,MAAM,KAAKhB,YAA3B,EAAyC;AACrC,aAAO,IAAP;AACH;;AAED,YAAQgB,MAAR;AACI,WAAKlB,kBAAL;AACA,WAAKC,aAAL;AACI,eAAO,oBAAC,YAAD,EAAkBgB,OAAlB,CAAP;;AACJ,WAAKf,YAAL;AACI,YAAIb,OAAO,CAACkC,QAAR,MAAsBD,IAAI,KAAKxB,4BAA/B,IAA+DuB,IAAI,CAACT,IAAL,CAAUY,OAAV,CAAkB,MAAlB,MAA8B,CAAC,CAAlG,EAAqG;AACjG,iBAAOrB,eAAe,CAACJ,gCAAD,EAAmCsB,IAAI,CAACT,IAAxC,CAAtB;AACH;;AACD,eAAOT,eAAe,CAACmB,IAAD,EAAOV,IAAP,EAAaN,2BAAb,CAAtB;;AACJ;AACI,eAAO,IAAP;AAVR;AAYH,GApBc;AAAA,CAAf","sourcesContent":["/**\n * @flow\n * @file Function to render the progress table cell\n */\n\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Browser from '../../utils/Browser';\nimport messages from '../common/messages';\nimport ItemProgress from './ItemProgress';\n\nimport {\n    ERROR_CODE_UPLOAD_FILE_SIZE_LIMIT_EXCEEDED,\n    ERROR_CODE_ITEM_NAME_IN_USE,\n    ERROR_CODE_ITEM_NAME_INVALID,\n    ERROR_CODE_UPLOAD_PENDING_APP_FOLDER_SIZE_LIMIT,\n    ERROR_CODE_UPLOAD_STORAGE_LIMIT_EXCEEDED,\n    ERROR_CODE_UPLOAD_CHILD_FOLDER_FAILED,\n    ERROR_CODE_UPLOAD_BAD_DIGEST,\n    ERROR_CODE_UPLOAD_FAILED_PACKAGE,\n    STATUS_IN_PROGRESS,\n    STATUS_STAGED,\n    STATUS_ERROR,\n} from '../../constants';\nimport type { UploadItem } from '../../common/types/upload';\n\ntype Props = {\n    rowData: UploadItem,\n};\n\n/**\n * Get error message for a specific error code\n *\n * @param {string} [errorCode]\n * @param {string} [itemName]\n * @returns {FormattedMessage}\n */\nconst getErrorMessage = (errorCode: ?string, itemName: ?string, shouldShowUpgradeCTAMessage?: boolean) => {\n    switch (errorCode) {\n        case ERROR_CODE_UPLOAD_CHILD_FOLDER_FAILED:\n            return <FormattedMessage {...messages.uploadsOneOrMoreChildFoldersFailedToUploadMessage} />;\n        case ERROR_CODE_UPLOAD_FILE_SIZE_LIMIT_EXCEEDED:\n            if (shouldShowUpgradeCTAMessage) {\n                return <FormattedMessage {...messages.uploadsFileSizeLimitExceededErrorMessageForUpgradeCta} />;\n            }\n            return <FormattedMessage {...messages.uploadsFileSizeLimitExceededErrorMessage} />;\n        case ERROR_CODE_ITEM_NAME_IN_USE:\n            return <FormattedMessage {...messages.uploadsItemNameInUseErrorMessage} />;\n        case ERROR_CODE_ITEM_NAME_INVALID:\n            return (\n                <FormattedMessage {...messages.uploadsProvidedFolderNameInvalidMessage} values={{ name: itemName }} />\n            );\n        case ERROR_CODE_UPLOAD_STORAGE_LIMIT_EXCEEDED:\n            return <FormattedMessage {...messages.uploadsStorageLimitErrorMessage} />;\n        case ERROR_CODE_UPLOAD_PENDING_APP_FOLDER_SIZE_LIMIT:\n            return <FormattedMessage {...messages.uploadsPendingFolderSizeLimitErrorMessage} />;\n        case ERROR_CODE_UPLOAD_FAILED_PACKAGE:\n            return <FormattedMessage {...messages.uploadsPackageUploadErrorMessage} />;\n        default:\n            return <FormattedMessage {...messages.uploadsDefaultErrorMessage} />;\n    }\n};\n\nexport default (shouldShowUpgradeCTAMessage?: boolean) => ({ rowData }: Props) => {\n    const { status, error = {}, name, isFolder, file } = rowData;\n    const { code } = error;\n\n    if (isFolder && status !== STATUS_ERROR) {\n        return null;\n    }\n\n    switch (status) {\n        case STATUS_IN_PROGRESS:\n        case STATUS_STAGED:\n            return <ItemProgress {...rowData} />;\n        case STATUS_ERROR:\n            if (Browser.isSafari() && code === ERROR_CODE_UPLOAD_BAD_DIGEST && file.name.indexOf('.zip') !== -1) {\n                return getErrorMessage(ERROR_CODE_UPLOAD_FAILED_PACKAGE, file.name);\n            }\n            return getErrorMessage(code, name, shouldShowUpgradeCTAMessage);\n        default:\n            return null;\n    }\n};\n"],"file":"progressCellRenderer.js"}