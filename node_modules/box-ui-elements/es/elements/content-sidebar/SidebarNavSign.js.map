{"version":3,"sources":["../../../src/elements/content-sidebar/SidebarNavSign.tsx"],"names":["React","classnames","injectIntl","BoxSign28","PlainButton","TargetedClickThroughGuideTooltip","Tooltip","TooltipPosition","messages","PlaceholderTooltip","children","SidebarNavSign","blockedReason","intl","status","targetingApi","rest","isSignDisabled","isTargeted","canShow","FtuxTooltip","label","formatMessage","boxSignSignature","boxSignRequest","buttonClassName","tooltipMessage","boxSignSecurityBlockedTooltip","boxSignWatermarkBlockedTooltip","boxSignFtuxBody","MIDDLE_LEFT","boxSignFtuxTitle"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,UAAT,QAAsC,YAAtC;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,WAAP,MAA8C,+BAA9C,C,CACA;;AACA,OAAOC,gCAAP,MAA6C,2DAA7C;AACA,OAAOC,OAAP,IAAkBC,eAAlB,QAAyC,0BAAzC,C,CACA;;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,uBAAP;AAcA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,SAAiDA,QAAjD;AAAA,CAA3B;AAEP,OAAO,SAASC,cAAT,QAAuF;AAAA,MAA7DC,aAA6D,SAA7DA,aAA6D;AAAA,MAA9CC,IAA8C,SAA9CA,IAA8C;AAAA,MAAxCC,MAAwC,SAAxCA,MAAwC;AAAA,MAAhCC,YAAgC,SAAhCA,YAAgC;AAAA,MAAfC,IAAe;;AAC1F,MAAMC,cAAc,GAAG,CAAC,CAACL,aAAzB;AACA,MAAMM,UAAU,GAAGH,YAAY,IAAIA,YAAY,CAACI,OAAhD;AACA,MAAMC,WAAW,GAAG,CAACH,cAAD,IAAmBC,UAAnB,GAAgCb,gCAAhC,GAAmEI,kBAAvF;AACA,MAAMY,KAAK,GAAGR,IAAI,CAACS,aAAL,CAAmBR,MAAM,KAAK,QAAX,GAAsBN,QAAQ,CAACe,gBAA/B,GAAkDf,QAAQ,CAACgB,cAA9E,CAAd;AACA,MAAMC,eAAe,GAAGxB,UAAU,CAAC,oBAAD,EAAuB;AAAE,uBAAmBgB;AAArB,GAAvB,CAAlC;AAEA,MAAIS,cAAc,GAAGL,KAArB;;AAEA,UAAQT,aAAR;AACI,SAAK,iBAAL;AACA,SAAK,aAAL;AACIc,MAAAA,cAAc,GAAGb,IAAI,CAACS,aAAL,CAAmBd,QAAQ,CAACmB,6BAA5B,CAAjB;AACA;;AACJ,SAAK,WAAL;AACID,MAAAA,cAAc,GAAGb,IAAI,CAACS,aAAL,CAAmBd,QAAQ,CAACoB,8BAA5B,CAAjB;AACA;;AACJ;AARJ;;AAWA,SACI,oBAAC,WAAD;AACI,IAAA,IAAI,EAAEf,IAAI,CAACS,aAAL,CAAmBd,QAAQ,CAACqB,eAA5B,CADV;AAEI,IAAA,QAAQ,EAAEtB,eAAe,CAACuB,WAF9B;AAGI,IAAA,YAAY,EAAEZ,UAHlB;AAII,IAAA,KAAK,EAAEL,IAAI,CAACS,aAAL,CAAmBd,QAAQ,CAACuB,gBAA5B,CAJX;AAKI,IAAA,eAAe,EAAE;AAAA,aAAMhB,YAAN;AAAA;AALrB,KAOI,oBAAC,OAAD;AAAS,IAAA,UAAU,EAAEG,UAArB;AAAiC,IAAA,QAAQ,EAAEX,eAAe,CAACuB,WAA3D;AAAwE,IAAA,IAAI,EAAEJ;AAA9E,KACI,oBAAC,WAAD;AAAa,kBAAYL,KAAzB;AAAgC,IAAA,SAAS,EAAEI,eAA3C;AAA4D,IAAA,UAAU,EAAER;AAAxE,KAA4FD,IAA5F,GACI,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC;AAArB,IADJ,CADJ,CAPJ,CADJ;AAeH;AAED,eAAed,UAAU,CAACS,cAAD,CAAzB","sourcesContent":["import React from 'react';\nimport classnames from 'classnames';\nimport { injectIntl, IntlShape } from 'react-intl';\nimport BoxSign28 from '../../icon/logo/BoxSign28';\nimport PlainButton, { PlainButtonProps } from '../../components/plain-button';\n// @ts-ignore Module is written in Flow\nimport TargetedClickThroughGuideTooltip from '../../features/targeting/TargetedClickThroughGuideTooltip';\nimport Tooltip, { TooltipPosition } from '../../components/tooltip';\n// @ts-ignore Module is written in Flow\nimport messages from './messages';\nimport './SidebarNavSign.scss';\n\nexport type Props = PlainButtonProps & {\n    blockedReason?: string;\n    intl: IntlShape;\n    status?: string;\n    targetingApi?: {\n        canShow: boolean;\n        onClose: () => void;\n        onComplete: () => void;\n        onShow: () => void;\n    };\n};\n\nexport const PlaceholderTooltip = ({ children }: { children: React.ReactNode }) => children;\n\nexport function SidebarNavSign({ blockedReason, intl, status, targetingApi, ...rest }: Props) {\n    const isSignDisabled = !!blockedReason;\n    const isTargeted = targetingApi && targetingApi.canShow;\n    const FtuxTooltip = !isSignDisabled && isTargeted ? TargetedClickThroughGuideTooltip : PlaceholderTooltip;\n    const label = intl.formatMessage(status === 'active' ? messages.boxSignSignature : messages.boxSignRequest);\n    const buttonClassName = classnames('bcs-SidebarNavSign', { 'bdl-is-disabled': isSignDisabled });\n\n    let tooltipMessage = label;\n\n    switch (blockedReason) {\n        case 'shield-download':\n        case 'shared-link':\n            tooltipMessage = intl.formatMessage(messages.boxSignSecurityBlockedTooltip);\n            break;\n        case 'watermark':\n            tooltipMessage = intl.formatMessage(messages.boxSignWatermarkBlockedTooltip);\n            break;\n        default:\n    }\n\n    return (\n        <FtuxTooltip\n            body={intl.formatMessage(messages.boxSignFtuxBody)}\n            position={TooltipPosition.MIDDLE_LEFT}\n            shouldTarget={isTargeted}\n            title={intl.formatMessage(messages.boxSignFtuxTitle)}\n            useTargetingApi={() => targetingApi}\n        >\n            <Tooltip isDisabled={isTargeted} position={TooltipPosition.MIDDLE_LEFT} text={tooltipMessage}>\n                <PlainButton aria-label={label} className={buttonClassName} isDisabled={isSignDisabled} {...rest}>\n                    <BoxSign28 className=\"bcs-SidebarNavSign-icon\" />\n                </PlainButton>\n            </Tooltip>\n        </FtuxTooltip>\n    );\n}\n\nexport default injectIntl(SidebarNavSign);\n"],"file":"SidebarNavSign.js"}