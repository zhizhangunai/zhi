!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).IntlUnifiedNumberFormat={})}(this,function(e){"use strict";function L(e,t,r){if(void 0===r&&(r=Error),!e)throw new r(t)}function v(e){if(null==e)throw new TypeError("undefined/null cannot be converted to object");return Object(e)}function h(e,t,r,n,o){var i=e[t];if(void 0===i)return o;if("boolean"!==r&&"string"!==r)throw new TypeError("invalid type");if("boolean"===r&&(i=Boolean(i)),"string"===r&&(i=String(i)),void 0!==n&&!n.filter(function(e){return e==i}).length)throw new RangeError(i+" in not within "+n);return i}function d(e,t,r,n){e.get(t)||e.set(t,Object.create(null)),e.get(t)[r]=n}function o(e,t,r){var n=e.get(t);if(!n)throw new TypeError(t+" InternalSlot has not been initialized");return n[r]}function w(e){var t=Intl.getCanonicalLocales;return"function"==typeof t?t(e):Intl.NumberFormat.supportedLocalesOf(e||"")}var n,t=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function b(e){var O=function(u){return function(e,t){for(var r={locale:""},n=0,o=t;n<o.length;n++){var i=o[n],a=i.replace(c,""),l=s(e,a);if(l)return r.locale=l,i!==a&&(r.extension=i.slice(a.length+1,i.length)),r}return r.locale=u(),r}}(e),g=function(u){return function(e,t){for(var r={locale:""},n=0,o=t;n<o.length;n++){var i=o[n],a=i.replace(c,""),l=s(e,a);if(l)return r.locale=l,i!==a&&(r.extension=i.slice(a.length+1,i.length)),r}return r.locale=u(),r}}(e);return function(e,t,r,n,o){for(var i,a=(i="lookup"===r.localeMatcher?O(e,t):g(e,t)).locale,l={locale:"",dataLocale:a},u="-u",c=0,s=n;c<s.length;c++){var f=s[c],y=o[a];L("object"==typeof y&&null!==y,"locale data "+f+" must be an object");var p=y[f];L(Array.isArray(p),"keyLocaleData must be an array");var _=p[0];L("string"==typeof _||null===_,"value must be string or null");var v="";if(i.extension){var h=m(i.extension,f);void 0!==h&&(""!==h?~p.indexOf(h)&&(v="-"+f+"-"+(_=h)):~h.indexOf("true")&&(_="true",v="-"+f))}if(f in r){var d=r[f];L("string"==typeof d||null==d,"optionsValue must be String, Undefined or Null"),~p.indexOf(d)&&d!==_&&(_=d,v="")}l[f]=_,u+=v}if(2<u.length){var b=a.indexOf("-x-");if(-1===b)a+=u;else a=a.slice(0,b)+u+a.slice(b,a.length);a=w(a)[0]}return l.locale=a,l}}function m(e,t){L(2===t.length,"key must have 2 elements");var r=e.length,n="-"+t+"-",o=e.indexOf(n);if(-1!==o){for(var i=o+4,a=i,l=i,u=!1;!u;){var c=e.indexOf("-",l);2===(-1===c?r-l:c-l)?u=!0:-1===c?(a=r,u=!0):l=(a=c)+1}return e.slice(i,a)}if(n="-"+t,-1!==(o=e.indexOf(n))&&o+3===r)return""}var c=/-u(?:-[0-9a-z]{2,8})+/gi;function s(e,t){for(var r=t;;){if(~e.indexOf(r))return r;var n=r.lastIndexOf("-");if(!~n)return;2<=n&&"-"===r[n-2]&&(n-=2),r=r.slice(0,n)}}function a(e,t){for(var r=[],n=0,o=t;n<o.length;n++){var i=s(e,o[n].replace(c,""));i&&r.push(i)}return r}var r,l=(r=Error,t(u,r),u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.type="MISSING_LOCALE_DATA",e}var O=function(){return(O=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},f=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)n[o]=i[a];return n};var N=Intl.NumberFormat,y=(T.prototype.format=function(e){var t=this.formatToParts(e).map(function(e){return e.value}).join("");if(this.unitPattern){var r=o(T.__INTERNAL_SLOT_MAP__,this,"unitDisplay"),n=this.pl.select(e);return this.unitPattern[r]["one"===n?"one":"other"].replace("{0}",t)}return t},T.prototype.formatToParts=function(e){var t=this.nf.formatToParts(e),r=o(T.__INTERNAL_SLOT_MAP__,this,"currencyDisplay");if(this.currencyNarrowSymbol&&"narrowSymbol"===r&&"currency"===this.nf.resolvedOptions().style)for(var n=0;n<t.length;n++)if("currency"===t[n].type){t[n].value=this.currencyNarrowSymbol;break}return t},T.prototype.resolvedOptions=function(){var e=this.nf.resolvedOptions(),t=o(T.__INTERNAL_SLOT_MAP__,this,"unit"),r=o(T.__INTERNAL_SLOT_MAP__,this,"currencyDisplay");return"currency"===e.style&&"narrowSymbol"===r&&(e.currencyDisplay="narrowSymbol"),t&&(e.style="unit",e.unit=t,e.unitDisplay=o(T.__INTERNAL_SLOT_MAP__,this,"unitDisplay")),e},T.supportedLocalesOf=function(e,t){return function(e,t,r){return void 0!==r&&h(r=v(r),"localeMatcher","string",["lookup","best fit"],"best fit"),a(e,t)}(T.availableLocales,w(e),t)},T.__addLocaleData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=function(t){Object.keys(f(t.availableLocales,Object.keys(t.aliases),Object.keys(t.parentLocales)).reduce(function(e,t){return e[t]=!0,e},{})).forEach(function(e){try{T.localeData[e]=function(e,t,r){void 0===r&&(r=function(e,t){return i(i({},e),t)});var n=function(e,t,r){var n=[e];t[e]&&(e=t[e],n.push(e));var o=r[e];o&&n.push(o);for(var i=e.split("-"),a=i.length;1<a;a--)n.push(i.slice(0,a-1).join("-"));return n}(e,t.aliases,t.parentLocales),o=n.map(function(e){return t.data[e]}).filter(Boolean);if(!o.length)throw new l('Missing locale data for "'+e+'", lookup hierarchy: '+n.join(", "));return o.reverse(),o.reduce(r,{})}(e,t,function(e,t){return{currencies:O(O({},e.currencies),t.currencies),units:O(O({},e.units),t.units)}})}catch(e){}})},n=0,o=e;n<o.length;n++)r(o[n]);T.availableLocales=Object.keys(T.localeData),T.__defaultLocale||(T.__defaultLocale=T.availableLocales[0])},T.getDefaultLocale=function(){return T.__defaultLocale},T.localeData={},T.availableLocales=[],T.__defaultLocale="en",T.relevantExtensionKeys=[],T.polyfilled=!0,T.__INTERNAL_SLOT_MAP__=new WeakMap,T);function T(e,t){var r;void 0===t&&(t={});var n=(t=void 0===t?Object.create(null):v(t)).style,o=t.unit,i=(t.unitDisplay,t.currencyDisplay),a=g(t,["style","unit","unitDisplay","currencyDisplay"]),l="unit"===n,u="currency"===n&&"narrowSymbol"===i;if(l||u){var c=w(e),s=Object.create(null),f=h(t,"localeMatcher","string",["best fit","lookup"],"best fit");s.localeMatcher=f;var y=T.localeData,p=b(T.getDefaultLocale)(T.availableLocales,c,s,T.relevantExtensionKeys,y);d(T.__INTERNAL_SLOT_MAP__,this,"locale",p.locale);var _=y[p.locale];if(l){if(!o)throw new TypeError("Unit is required for `style: unit`");d(T.__INTERNAL_SLOT_MAP__,this,"unit",o),d(T.__INTERNAL_SLOT_MAP__,this,"unitDisplay",h(t,"unitDisplay","string",["long","short","narrow"],"short")),this.unitPattern=_.units[o]}else if(u){if(!t.currency)throw new TypeError("Currency code is required with currency style.");d(T.__INTERNAL_SLOT_MAP__,this,"currencyDisplay",i),this.currencyNarrowSymbol=null===(r=_.currencies[t.currency])||void 0===r?void 0:r.narrowSymbol}}this.nf=new N(e,O(O({},a),{currencyDisplay:"narrowSymbol"===i?"symbol":i,style:"unit"===n?"decimal":n})),d(T.__INTERNAL_SLOT_MAP__,this,"unit",void 0),this.pl=new Intl.PluralRules(e)}e.UnifiedNumberFormat=y,e.isUnitSupported=function(e){try{new Intl.NumberFormat(void 0,{style:"unit",unit:e})}catch(e){return!1}return!0},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=intl-unified-numberformat.min.js.map
